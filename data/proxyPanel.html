<html>
  <head>
    <meta charset="utf-8">
    <script>
      addon.port.on("status-update", function(msg) {
        let element = document.getElementById("status");
        switch (msg) {
          case "connecting":
            element.textContent = "serving a client right now";
          case "waiting":
            element.textContext = "up and running, waiting for connections";
          case "dying":
            element.textContext = "having a problem. If you keep reading this after browser restart, please report this";
          case "starting":
            element.textContext = "up and running, waiting for connections";
        }
      });
      addon.port.on("connections-update", function(count) {
        document.getElementById("connections").textContent = count;
      }
    </script>
    <style>
      body {background-color: #ddd}
      h1 {font-size:20px;}
      #status {font-weight:bold; color: #579}
      #connections {font-weight:bold; color: #874}
    </style>
  </head>
  <body>
    <table>
      <h1>Tor Flashproxy Badge</h1>
      <p>
        Tor Flashproxy is <span id="status">running</span>. By now you received
        <span id="connections">no</span> connections from people trying to reach
        the open internet. Please keep in mind that even if you don't receive any
        connections you are helping with your presence. Thanks for that!
      </p>
  </body>
</html>
